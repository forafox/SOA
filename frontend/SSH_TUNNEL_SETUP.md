# Настройка SSH туннеля для работы с бэкендом

## Проблема
Фронтенд работает на статическом хостинге без серверной части, поэтому не может напрямую обращаться к бэкенду через localhost.

## Решение: SSH туннель

### 1. На сервере (где работает бэкенд)
```bash
# Убедитесь, что бэкенд работает на порту 37861
curl -X GET "https://localhost:37861/SOA-1.0-SNAPSHOT/api/movies?page=1&size=20" -k
```

### 2. На клиентской машине (где открывается фронтенд)
```bash
# Создайте SSH туннель
ssh -p 2222 s367268@se.ifmo.ru -Y -L37861:helios:37861

# Или если helios недоступен напрямую:
ssh -p 2222 s367268@se.ifmo.ru -Y -L37861:localhost:37861
```

### 3. Проверка работы
После создания туннеля:
```bash
# На клиентской машине проверьте:
curl -X GET "https://localhost:37861/SOA-1.0-SNAPSHOT/api/movies?page=1&size=20" -k
```

### 4. Открытие фронтенда
Теперь откройте фронтенд в браузере:
- https://se.ifmo.ru/~s367268/soa/

Фронтенд будет обращаться к `https://localhost:37861/SOA-1.0-SNAPSHOT/api/movies`, 
что будет проксироваться через SSH туннель на сервер.

## Альтернативные решения

### Вариант 1: Переменные окружения
Можно переопределить URL через переменные окружения:
```bash
# При сборке фронтенда
NEXT_PUBLIC_MOVIES_API_URL="https://se.ifmo.ru:37861/SOA-1.0-SNAPSHOT" npm run build
```

### Вариант 2: Публичный доступ к бэкенду
Если бэкенд можно сделать доступным публично, измените конфигурацию:
```typescript
production: {
  moviesApiUrl: 'https://se.ifmo.ru:37861/SOA-1.0-SNAPSHOT',
  oscarsApiUrl: 'https://se.ifmo.ru:37861/SOA-1.0-SNAPSHOT',
  environment: 'production'
}
```

## Отладка
1. Проверьте, что SSH туннель активен: `netstat -an | grep 37861`
2. Проверьте логи в DevTools браузера
3. Убедитесь, что бэкенд отвечает на сервере
