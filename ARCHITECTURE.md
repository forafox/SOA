# ๐๏ธ ะััะธัะตะบัััะฐ ะฟัะธะปะพะถะตะฝะธั ะฟะพัะปะต ะธะฝัะตะณัะฐัะธะธ

## ๐ ะกัะตะผะฐ ัะฐะฑะพัั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ะะตะปะธะพั (WildFly)                        โ
โ                    ะะพัั: 8080                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                โ
                โโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโ
                โ               โ               โ
        โโโโโโโโโผโโโโโโโโ โโโโโโโผโโโโโโ โโโโโโโโผโโโโโโโ
        โ   ะคัะพะฝัะตะฝะด    โ โ   API     โ โ   ะัะพะบัะธ    โ
        โ  (Next.js)    โ โ (Oscars)  โ โ  (Movies)   โ
        โ               โ โ           โ โ             โ
        โ /             โ โ /oscars/* โ โ /api/movies โ
        โ /movies       โ โ           โ โ     โ       โ
        โ /oscars       โ โ           โ โ  ะัะพะบัะธััะตั โ
        โ /dashboard    โ โ           โ โ  ะบ ะฟะพััั    โ
        โโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโ โ   8081      โ
                                        โโโโโโโโโโโโโโโ
```

## ๐ ะะพัะพะบ ะทะฐะฟัะพัะพะฒ

### 1. ะกัะฐัะธัะตัะบะธะต ัะฐะนะปั (ััะพะฝัะตะฝะด)
```
ะัะฐัะทะตั โ http://domain:8080/ 
       โ Spring Boot โ static/index.html
```

### 2. API Oscars (ะปะพะบะฐะปัะฝัะน)
```
ะัะฐัะทะตั โ http://domain:8080/oscars/operators/losers
       โ Spring Boot โ OscarsController
```

### 3. API Movies (ะฟัะพะบัะธ)
```
ะัะฐัะทะตั โ http://domain:8080/api/movies
       โ Spring Boot โ MoviesProxyController
       โ ะัะพะบัะธััะตั โ http://localhost:8081/movies
```

## โ๏ธ ะะพะผะฟะพะฝะตะฝัั

### Frontend (Next.js)
- **ะะฐัะฟะพะปะพะถะตะฝะธะต**: `src/main/resources/static/`
- **ะะฐัััััั**: `/`, `/movies`, `/oscars`, `/dashboard`
- **API ะฒัะทะพะฒั**: ะัะต ะธะดัั ะฝะฐ ะฟะพัั 8080

### Backend (Spring Boot)
- **ะะพัั**: 8080
- **ะะพะฝััะพะปะปะตัั**:
  - `OscarsController` - `/oscars/*`
  - `MoviesProxyController` - `/api/movies/*` (ะฟัะพะบัะธ)

### ะัะพะบัะธ ะดะปั Movies API
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะะตัะตะฝะฐะฟัะฐะฒะปัะตั ะทะฐะฟัะพัั ะบ movies API
- **ะะพะฝัะธะณััะฐัะธั**: `movies.api.base-url=http://localhost:8081/api`
- **ะะตัะพะดั**: GET, POST, PATCH, DELETE

## ๐ฏ ะัะตะธะผััะตััะฒะฐ

1. **ะะดะธะฝัะน ะฟะพัั**: ะัะต ะทะฐะฟัะพัั ะธะดัั ะฝะฐ 8080
2. **ะะตั CORS**: ะะดะธะฝ ะดะพะผะตะฝ ะดะปั ััะพะฝัะตะฝะดะฐ ะธ API
3. **ะัะพััะพะน ะดะตะฟะปะพะน**: ะะดะธะฝ WAR ัะฐะนะป
4. **ะัะพะทัะฐัะฝะพััั**: ะคัะพะฝัะตะฝะด ะฝะต ะทะฝะฐะตั ะพ ะฟัะพะบัะธัะพะฒะฐะฝะธะธ

## โ๏ธ ะะฐะถะฝัะต ะผะพะผะตะฝัั

### ะะพะฝัะธะณััะฐัะธั ััะฐัะธัะตัะบะธั ัะตััััะพะฒ
```java
// ะัะบะปััะฐะตะผ API endpoints ะธะท ะพะฑัะฐะฑะพัะบะธ ััะฐัะธะบะธ
if (resourcePath.startsWith("oscars/") || 
    resourcePath.startsWith("swagger-ui") || 
    resourcePath.startsWith("v3/api-docs")) {
    return null; // ะะต ะพะฑัะฐะฑะฐััะฒะฐะตะผ ะบะฐะบ ััะฐัะธะบั
}
```

### ะัะพะบัะธัะพะฒะฐะฝะธะต Movies API
```java
// ะัะต ะทะฐะฟัะพัั /api/movies/* ะฟัะพะบัะธัััััั ะบ movies API
String url = moviesApiBaseUrl + "/movies" + path;
return restTemplate.exchange(url, method, entity, Object.class);
```

## ๐ง ะะฐัััะพะนะบะธ

### application.yaml
```yaml
movies:
  api:
    base-url: http://localhost:8081/api  # URL movies API
```

### Frontend API Client
```typescript
// ะะฑะฐ API ัะตะฟะตัั ะธัะฟะพะปัะทััั ะฟะพัั 8080
constructor(moviesBaseUrl = "http://localhost:8080", 
           oscarsBaseUrl = "http://localhost:8080")
```

## ๐ ะะตะทัะปััะฐั

ะะพัะปะต ะดะตะฟะปะพั ะฝะฐ ะะตะปะธะพั:
- โ ะคัะพะฝัะตะฝะด ะดะพัััะฟะตะฝ ะฝะฐ `http://domain:8080/`
- โ Oscars API ัะฐะฑะพัะฐะตั ะฝะฐ `http://domain:8080/oscars/*`
- โ Movies API ะฟัะพะบัะธััะตััั ัะตัะตะท `http://domain:8080/api/movies/*`
- โ ะัะต ะทะฐะฟัะพัั ะธะดัั ัะตัะตะท ะพะดะธะฝ ะฟะพัั
- โ ะะตั ะฟัะพะฑะปะตะผ ั CORS
- โ ะะดะธะฝ WAR ัะฐะนะป ัะพะดะตัะถะธั ะฒัั
